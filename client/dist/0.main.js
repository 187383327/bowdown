(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,t,n){"use strict";n.r(t);var o=n(3),i=n(6),a=n.n(i),r=new(n(7).a);function c(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}const s=!1;function l(e,t){if(s){var n=new o.q;n.vertices.push(t,new o.rb);var i=new o.z({color:16711680}),a=new o.y(n,i);a.name="collision line",e.gltf.scene.add(a)}}var u=n(4),d=n.n(u),p=n(8),m=n.n(p),g=n(9),w=n.n(g),h=n(10),f=n.n(h),b=n(11),y=n.n(b),v=n(12),x=n.n(v),k=n(13),A=n.n(k),M=new o.gb,L=[];r.load(d.a,function(e){var t=e.scene;t.position.y-=10,M.add(t),L.push(t)});let S=[];S.push(new o.M({map:(new o.mb).load(m.a)})),S.push(new o.M({map:(new o.mb).load(w.a)})),S.push(new o.M({map:(new o.mb).load(f.a)})),S.push(new o.M({map:(new o.mb).load(y.a)})),S.push(new o.M({map:(new o.mb).load(x.a)})),S.push(new o.M({map:(new o.mb).load(A.a)}));for(let e=0;e<6;e++)S[e].side=o.c;let z=new o.e(5e3,5e3,5e3),j=new o.L(z,S);var P;M.add(j),M.add(((P=new o.s(16777215,10209703)).color.setHSL(.6,1,.8),P.groundColor.setHSL(.095,1,.75),P.position.set(0,50,0),P.visible=!0,P)),M.add(function(){var e=new o.l;e.color.setHSL(.1,1,.95),e.position.set(-1,1.75,1),e.position.multiplyScalar(30),e.castShadow=!0,e.shadow.mapSize.width=2048,e.shadow.mapSize.height=2048;return e.shadow.camera.left=-50,e.shadow.camera.right=50,e.shadow.camera.top=50,e.shadow.camera.bottom=-50,e.shadow.camera.far=3500,e.shadow.bias=-1e-4,e.visible=!0,e}()),M.animate=function(e){j.applyQuaternion((new o.ab).setFromAxisAngle(new o.rb(0,1,0),e/20))};var F,B;F=window.innerWidth,B=window.innerHeight;var E=new o.V(75,F/B,.1,1e4);E.zoomState="out";var O=E.getFocalLength(),q=E.getFocalLength()+16;E.position.z=5;var C=new o.rb,_=0,W=0;function D(e,t){var n;return e.gltf.animations.forEach(e=>{e.name!==t||(n=e)}),null==n&&console.error("animation: "+t+" cannot be found!"),n}function R(e,t){t.mixer=e,t.anim={idle:e.clipAction(D(t,"Idle")),running:e.clipAction(D(t,"Running best")),runWithBow:e.clipAction(D(t,"Running with bow best")),runWithLegsOnly:e.clipAction(D(t,"Running legs only")),jumping:e.clipAction(D(t,"Jumping2")).setLoop(o.H),equipBow:e.clipAction(D(t,"Equip Bow")).setLoop(o.H),drawBow:e.clipAction(D(t,"Draw bow")).setLoop(o.H),fireBow:e.clipAction(D(t,"Fire bow")).setLoop(o.H),death:e.clipAction(D(t,"death")).setLoop(o.H)},t.anim.drawBow.clampWhenFinished=!0,t.toggleBow=function(e){t.gltf.scene.children[0].children[1].visible=!e,t.gltf.scene.children[0].children[2].visible=e},t.isRunning=function(){return!!t.activeMovement&&t.activeMovement.toLowerCase().includes("run")},t.isFiring=function(){return t.bowState&&("drawn"==t.bowState||"drawing"==t.bowState||"firing"==t.bowState)},t.getPosition=function(){if(t.gltf)return t.gltf.scene.position.clone();console.error("archer.gltf has not been defined yet")},t.setPosition=function(e){null!=t.gltf?t.gltf.scene.position.copy(e):console.error("archer.gltf has not been defined yet")},t.getRotation=function(){if(t.gltf)return t.gltf.scene.rotation;console.error("archer.gltf has not been defined yet")},t.globalVector=function(e){return e.applyEuler(this.getRotation())}}E.nextPosition=function(e){if(null!=ae){var t=new o.rb;return t.x=e*Math.sin(_*Math.PI/360)*Math.cos(W*Math.PI/360),t.y=e*Math.sin(W*Math.PI/360),t.z=e*Math.cos(_*Math.PI/360)*Math.cos(W*Math.PI/360),C.clone().add(t.applyQuaternion((new o.ab).setFromUnitVectors(new o.rb(0,1,0),C.clone().normalize())))}},E.zoomIn=function(){E.zoomState="zooming in"},E.zoomOut=function(){E.zoomState="zooming out"},E.resetFocalLength=function(){O=E.getFocalLength(),q=E.getFocalLength()+16},E.resetFocalLength(),E.animate=function(e){if("zooming in"==E.zoomState){if(E.getFocalLength()<q){var t=60;ae.doubleJumped&&(t/=2),(n=E.getFocalLength()+e*t)<q?E.setFocalLength(n):(E.setFocalLength(q),E.zoomState="in")}}else if("zooming out"==E.zoomState){var n;if(E.getFocalLength()>O)(n=E.getFocalLength()-60*e)>O?E.setFocalLength(n):(E.setFocalLength(O),E.zoomState="out")}},E.setPosition=function(e){E.position.copy(e)},E.updateCamera=function(){if(null!=ae){var e=ae.getPosition().sub(E.position.clone()),t=ae.getPosition().normalize().cross(e).normalize().multiplyScalar(-.5);C.copy(ae.getPosition().add(t).add(ae.getPosition().normalize().multiplyScalar(1.8)));var n=E.nextPosition(3.5),i=new o.eb(C,n.clone().sub(C).normalize(),0,3.5).intersectObjects(L,!0);i.length>0&&(n=i[0].point.clone().sub(n.clone().sub(i[0].point).normalize().multiplyScalar(.1))),E.setPosition(n)}E.up.copy(ae.getPosition().normalize()),E.lookAt(C),E.updateMatrix()},E.moveCamera=function(e,t){_-=.2*e,W=W+.2*t,E.updateCamera()};const H=new WebSocket("wss://ws.bowdown.io:18181");function I(e){1==H.readyState?H.send(JSON.stringify(e)):console.error("error connecting to server")}H.onmessage=function(e){var t,n,i;if((e=JSON.parse(e.data)).players&&U.init(e.players),e.player){var a=e.player;a==ae.uuid?e.damage?ae.takeDamage(e.damage):e.kills&&Me(e.kills):e.chatMessage?function(e){var t=document.createTextNode(e),n=document.createElement("p").appendChild(t);document.getElementById("chat").appendChild(n)}(e.chatMessage):"disconnected"===e.status?(M.remove(U.get(a).gltf.scene),U.get(a)):U.get(a)?U.get(a).gltf&&e.position&&null!=e.rotation?U.move(a,e.position,e.rotation):U.get(a).gltf&&e.playAction?U.playAction(a,e.playAction):U.get(a).gltf&&e.stopAction&&U.stopAction(a,e.stopAction):U.add(a,e.position,e.race)}else e.arrow&&(e.arrow.stopped?(i=e.arrow,Y[i.uuid].position.copy(i.position),Y[i.uuid].stopped=!0):(t=e.arrow,(n=K(t.origin,t.rotation,t.type)).uuid=t.uuid,n.player=t.player,n.velocity=new o.rb(t.velocity.x,t.velocity.y,t.velocity.z),Y[n.uuid]=n,$(n,(Date.now()-t.timeOfShoot)/1e3)))};n(5);var U={},T={},V=[];U.all=function(){return T},U.get=e=>T[e],U.add=function(e,t,n){T[e]={},null==n&&(console.error("race is undefined"),n="brown"),r.load("./models/benji_"+n+".gltf",function(n){T[e].gltf=n,R(new o.b(n.scene),T[e]),t&&U.move(e,t,0),M.add(n.scene);var i=new o.L(new o.e(.5,2,.5));i.position.y+=1,i.material.visible=!1,n.scene.add(i),i.playerUuid=e,V.push(i)})},U.init=function(e){Object.keys(e).forEach(t=>{U.add(t,e[t].position,e[t].race)})},U.move=function(e,t,n){var o=T[e];o.gltf.scene.position.copy(t),o.gltf.scene.rotation.y=n},U.playAction=function(e,t){T[e].anim[t].reset().play()},U.stopAction=function(e,t){T[e].anim[t].stop()};var X=[],Y=[],J=.06,N=.75;const Q=new o.rb(0,1.5,0),G={normal:{color:65280},rope:{color:16743168}};function K(e,t,n){G[n]||console.error("arrow type: "+n+" does not exist");var i=new o.e(J,J,N),a=new o.M({color:G[n].color}),r=new o.L(i,a);return r.origin=e,r.position.copy(e),r.rotation.copy(t),M.add(r),r.type=n,r}function Z(e){var t=ae.getPosition().add(Q),n=K(t,E.rotation,e);n.uuid=c(),n.playerUuid=ae.uuid;var i=new o.eb;i.setFromCamera({x:0,y:0},E);var a,r=i.intersectObjects(L.concat(V),!0);return r.length>0?a=r[0].point.sub(t):(a=new o.rb,E.getWorldDirection(a)),n.velocity=a.normalize().multiplyScalar(60),X.push(n),I({arrow:{type:e,origin:n.position,uuid:n.uuid,player:ae.uuid,rotation:n.rotation,velocity:n.velocity,timeOfShoot:Date.now()}}),n}function $(e,t){e.velocity.sub(e.position.clone().normalize().multiplyScalar(9*t)),e.position.add(e.velocity.clone().multiplyScalar(t))}function ee(e){X.forEach(t=>{if("rope"==t.type){t.rope&&M.remove(t.rope);var n=new o.q,i=new o.z({color:16775912,linewidth:10});n.vertices.push(ae.getPosition().add(Q),t.position);var a=new o.y(n,i);t.rope=a,M.add(a)}if(!t.stopped){$(t,e);var r=new o.rb(0,0,1);r.applyEuler(t.rotation).normalize();var c=t.position.clone().sub(t.origin).length()/2,s=new o.eb(t.position,r,0,c),l=s.intersectObjects(V);if(l.length>0){var u=l.pop();t.position.copy(u.point),t.stopped=!0,function(e){I({player:e,damage:100})}(u.object.playerUuid)}(l=s.intersectObjects(L,!0)).length>0&&(t.position.copy(l.pop().point),t.stopped=!0,I({arrow:{stopped:!0,position:t.position,uuid:t.uuid}}))}}),Object.keys(Y).forEach(t=>{Y[t].stopped||$(Y[t],e)})}const te=n(5);var ne={uuid:c()};const oe=7,ie=1.3;ne.race=["black","brown","white"][Math.floor(3*Math.random())],r.load(te("./benji_"+ne.race+".gltf"),e=>{ne.gltf=e,ne.velocity=new o.rb,ne.bowState="unequipped";var t,n=new o.b(e.scene);function i(e,t,n,o){return e.clone().projectOnPlane(ne.getPosition().normalize()).applyAxisAngle(ne.getPosition().normalize(),-Math.atan2(t.x,t.y)).normalize().multiplyScalar(o*function(e){return e.keyboard.shift?(ne.isRunning()&&(ne.anim[ne.activeMovement].timeScale=ie),oe*ie):(ne.anim[ne.activeMovement]&&(ne.anim[ne.activeMovement].timeScale=1),oe)}(n))}R(n,ne),n.addEventListener("finished",e=>{"Draw bow"==e.action.getClip().name?ne.bowState="drawn":"death"==e.action.getClip().name?M.remove(ne.gltf.scene):("Fire bow"==e.action.getClip().name&&(ne.bowState="equipped"),ne.idle())}),ne.falling=function(e){if(e){var t=ne.getPosition().add(ne.velocity.clone().multiplyScalar(e)).sub(this.globalVector(new o.rb(0,.1,0))),n=this.globalVector(new o.rb(0,1,0));return!(new o.eb(t,n,0,.2+ne.velocity.length()*e).intersectObjects(L,!0).length>0)||(ne.doubleJumped=!1,!1)}},ne.collisionDetected=function(e){var t,n,i;t=ne,s&&t.gltf.scene.children.forEach(e=>{"collision line"===e.name&&t.gltf.scene.remove(e)});for(var a=-1;a<=1;a++)for(var r=-1;r<=1;r++){if(n=this.globalVector(new o.rb(.5*a,1,.5*r).normalize()),i=new o.eb(e,n,0,1),l(ne,n),i.intersectObjects(L,!0).length>0)return n;var c=e.clone().sub(ne.getPosition());if((i=new o.eb(ne.getPosition().add(n),c.clone().normalize(),0,c.length())).intersectObjects(L,!0).length>0)return c}return!1},ne.playBowAction=function(e){ne.isRunning()&&"runWithLegsOnly"!=ne.activeMovement?ne.movementAction("runWithLegsOnly"):ne.activeMovement&&(ne.stopAction(ne.activeMovement),ne.activeMovement=null),ne.bowAction(e),ne.broadcast()},ne.onMouseDown=function(){null!=t?(t=null,X.forEach(e=>{"rope"==e.type&&(e.type=null,M.remove(e.rope))})):"unequipped"==ne.bowState?ne.equipBow():null==t&&(this.activeActions.includes("jumping")&&this.stopAction("jumping"),ne.playBowAction("drawBow"),ne.bowState="drawing",E.zoomIn())},ne.onMouseUp=function(e){"drawn"==ne.bowState?(ne.playBowAction("fireBow"),2==e.button?t=Z("rope"):Z("normal"),ne.bowState="firing",E.zoomOut()):"drawing"===ne.bowState&&(ne.stopAction(ne.activeBowAction),ne.activeBowAction=null,ne.bowState="equipped",ne.idle(),E.zoomOut())},ne.broadcast=async function(){I({player:ne.uuid,position:ne.getPosition(),rotation:ne.getRotation().y,bowState:ne.bowState})},ne.doubleJumped=!1,ne.animate=function(e,n){var a,r,c=function(e){var t=0,n=0;if(0!=e.touch.x&&0!=e.touch.y){var i=new o.qb(e.touch.x,e.touch.y);i.length()>100?e.keyboard.shift=!0:e.keyboard.shift=!1,i.normalize(),t=i.x,n=i.y}return e.keyboard.forward&&(t+=0,n+=1),e.keyboard.backward&&(t+=0,n+=-1),e.keyboard.left&&(t+=-1,n+=0),e.keyboard.right&&(t+=1,n+=0),new o.qb(t,n)}(n),s=E.getWorldDirection(new o.rb),l=i(s,c,n,e),u=function(e){var t=e.clone();return t.applyQuaternion((new o.ab).setFromUnitVectors(C.clone().normalize(),new o.rb(0,1,0))),new o.qb(t.x,t.z)}(s),d=function(e,t,n){return 0==t.length()&&(t=new o.qb(0,1)),e.clone().rotateAround(new o.qb,Math.atan2(t.x,t.y))}(u,c),p=ne.falling(e);if(p){var m=10;ne.doubleJumped&&ne.isFiring()&&(m=5),ne.velocity.sub(ne.getPosition().normalize().multiplyScalar(m*e))}else if(0!=n.touch.x&&0!=n.touch.y||n.keyboard.forward||n.keyboard.backward||n.keyboard.left||n.keyboard.right){r=Math.atan2(d.x,d.y),ne.velocity.set(0,0,0),(a=ne.getPosition()).add(l);var g=a.clone().add(this.globalVector(new o.rb(0,.5,0))),w=new o.eb(g,this.globalVector(new o.rb(0,-1,0)),0,1).intersectObjects(L,!0);w.length>0&&(a=w[0].point.add(this.globalVector(new o.rb(0,.01,0)))),ne.isRunning()||("equipped"==ne.bowState?ne.movementAction("runWithBow"):ne.isFiring()?ne.movementAction("runWithLegsOnly"):ne.movementAction("running"))}else ne.isRunning()&&(ne.isFiring()?(ne.stopAction(ne.activeMovement),ne.activeMovement=null):ne.idle());if(ne.isFiring()&&(r=Math.atan2(u.x,u.y),E.updateCamera(),ne.broadcast()),n.jump&&!ne.doubleJumped&&(n.jump=null,p&&(ne.doubleJumped=!0),c.length()&&this.velocity.copy(l.clone().multiplyScalar(1/e)),this.velocity.add(this.getPosition().normalize().multiplyScalar(5)),this.playAction("jumping")),null!=t&&t.stopped){if(0!=c.length()){var h=s.clone().applyAxisAngle(this.getPosition().normalize(),-Math.atan2(c.x,c.y));this.velocity.add(h.multiplyScalar(15*e))}this.velocity.add(t.position.clone().sub(this.getPosition()).normalize().multiplyScalar(15*e))}if(0!=ne.velocity.length()&&(a||(a=ne.getPosition()),a.add(ne.velocity.clone().multiplyScalar(e))),function(e,t){var n,i;i=e?e.clone().normalize():ne.getPosition().normalize();t?(ne.getRotation().copy(new o.n(0,t,0)),n=(new o.ab).setFromUnitVectors(new o.rb(0,1,0),i)):e&&(n=(new o.ab).setFromUnitVectors(ne.getPosition().normalize(),i));n&&ne.gltf.scene.applyQuaternion(n)}(a,r),a){var f=ne.collisionDetected(a);f?p?(ne.velocity.copy(f.clone().negate().normalize().multiplyScalar(10)),a.add(ne.velocity.clone().multiplyScalar(e)),ne.setPosition(a)):ne.velocity.set(0,0,0):(ne.setPosition(a),E.updateCamera()),ne.broadcast()}},ne.idle=function(){ne.movementAction("idle"),ne.broadcast()},ne.equipBow=function(){ne.bowState="equipped",ne.playBowAction("equipBow"),ne.toggleBow(!0)},ne.unequipBow=function(){ne.toggleBow(!1),ne.bowState="unequipped"},ne.takeDamage=function(){Le(),this.playAction("death")},ne.respawn=function(){M.add(ne.gltf.scene),ne.setPosition(new o.rb)},ne.sendChat=function(e){I({player:ne.uuid,chatMessage:e})},ne.activeActions=[],ne.playAction=function(e){this.anim[e]&&(this.anim[e].reset().play(),I({player:this.uuid,playAction:e}),this.activeActions.includes(e)||this.activeActions.push(e))},ne.stopAction=function(e){this.activeActions.includes(e)?(this.activeActions=this.activeActions.filter(t=>t!=e),this.anim[e].stop(),I({player:this.uuid,stopAction:e})):console.error("tried to stop action: "+e+", but action was never started")},ne.bowAction=function(e){this.anim&&this.anim[e]?this.activeBowAction!=e&&(this.activeBowAction&&(this.stopAction(this.activeBowAction),this.activeBowAction=null),this.activeMovement&&"runWithLegsOnly"!=this.activeMovement&&this.stopAction(this.activeMovement),e&&this.playAction(e),this.activeBowAction=e):console.error("action: "+e+" does not exist!")},ne.movementAction=function(e="idle"){if(this.anim&&this.anim[e]){if(this.activeMovement){if(this.activeMovement==e)return;this.stopAction(this.activeMovement)}this.playAction(e),this.activeMovement=e}else console.error("action: "+e+" does not exist!")},ne.gltf.scene.position.z=200,ne.gltf.scene.position.y=200,ne.gltf.scene.applyQuaternion((new o.ab).setFromUnitVectors(new o.rb(0,1,0),ne.getPosition().normalize())),M.add(ne.gltf.scene),I({player:ne.uuid,position:ne.getPosition(),race:ne.race}),ne.equipBow(),ne.idle()});var ae=ne,re=new o.ub({antialias:!0,alpha:!0});re.setClearColor("#e5e5e5"),re.setSize(window.innerWidth,window.innerHeight,!1),re.setPixelRatio(window.devicePixelRatio),re.gammaOutput=!0,re.gammaFactor=2.2,n.d(t,"start",function(){return Be}),n.d(t,"gameOver",function(){return Le}),n.d(t,"setKillCount",function(){return Me}),n(23);var ce=new o.i;window.addEventListener("resize",function(){var e,t;e=window.innerWidth,t=window.innerHeight,he&&window.innerWidth>window.innerHeight?(he=!1,document.body.classList.remove("rotated")):he&&(e=window.innerHeight,t=window.innerWidth);re.setSize(e,t,!1),E.aspect=e/t,E.resetFocalLength(),E.updateProjectionMatrix()});var se={keyboard:{forward:!1,backward:!1,left:!1,right:!1,space:!1},touch:{x:0,y:0}},le="playing",ue=!1,de={id:null,x:null,y:null,shoot:!1},pe={id:null,x:null,y:null},me={id:null};const ge=4,we=[document.getElementById("shoot-button"),document.getElementById("rope-button"),document.getElementById("jump-button")];var he;function fe(){requestAnimationFrame(fe);var e=ce.getDelta();ee(e),ae&&ae.mixer&&(ae.animate(e,se),ae.mixer.update(e)),Object.keys(U.all()).length&&function(e){Object.keys(T).forEach(t=>{T[t].mixer&&T[t].mixer.update(e)})}(e),E.animate(e),M.animate(e),re.render(M,E)}function be(e,t){if("string"==typeof e.key)switch(e.key.toLowerCase()){case"w":se.keyboard.forward=t;break;case"a":se.keyboard.left=t;break;case"s":se.keyboard.backward=t;break;case"d":se.keyboard.right=t;break;case" ":null!=se.jump?se.jump=t:t||(se.jump=!1);break;case"shift":se.keyboard.shift=t}}function ye(e){13===e.keyCode&&document.getElementById("chat").classList.contains("chatting")&&ae.sendChat(document.getElementById("chat-text-box").value),be(e,!0)}function ve(e){be(e,!1)}function xe(){"chat"==event.target.id?event.target.classList.add("chatting"):2!=event.button&&"paused"==le&&(document.body.requestPointerLock&&document.body.requestPointerLock(),Ae()),"playing"==le&&ae.onMouseDown()}function ke(e){"playing"===le&&ae.onMouseUp(e)}function Ae(){document.body.classList.remove("ready"),document.body.classList.add("playing"),le="playing"}function Me(e){e,document.getElementById("kill-count").innerHTML+="X"}function Le(){le="gameOver",document.body.classList.remove("playing"),document.getElementById("title").innerHTML="Game over",document.body.classList.remove("playing"),document.body.classList.add("gameOver")}function Se(){le=document.pointerLockElement?"playing":"paused"}function ze(e){e!=ue&&(e?we.forEach(e=>e.setAttribute("style","display: block;")):we.forEach(e=>e.setAttribute("style","display: none;")),ue=e)}function je(e){var t,n,o;e.preventDefault(),ze(!0);for(var i=0;i<e.targetTouches.length;i++)e.targetTouches.item(i).identifier==de.id?t=e.targetTouches.item(i):e.targetTouches.item(i).identifier==pe.id?n=e.targetTouches.item(i):null==o&&(o=e.targetTouches.item(i));t?(he?E.moveCamera(ge*(t.pageY-de.y),-1*ge*(t.pageX-de.x)):E.moveCamera(ge*(t.pageX-de.x),ge*(t.pageY-de.y)),de.x=t.pageX,de.y=t.pageY):o&&("shoot-button"===o.target.id?(ae.onMouseDown(),de.shoot=!0):"rope-button"===o.target.id&&(ae.onMouseDown(),de.rope=!0),"jump-button"===o.target.id&&(se.jump=!0,me.id=o.identifier),(he&&o.pageY>window.innerHeight/2||!he&&o.pageX>window.innerWidth/2)&&(de.id=o.identifier,de.x=o.pageX,de.y=o.pageY)),n?he?(se.touch.y=n.pageX-pe.x,se.touch.x=n.pageY-pe.y):(se.touch.x=n.pageX-pe.x,se.touch.y=-1*(n.pageY-pe.y)):o&&(he&&o.pageY<window.innerHeight/2||!he&&o.pageX<window.innerWidth/2)&&(pe.id=o.identifier,pe.x=o.pageX,pe.y=o.pageY)}function Pe(e){de.id==e.changedTouches[0].identifier?(de.id==me.id&&(se.jump=!1),de.shoot&&ae.onMouseUp({button:0}),de.rope&&ae.onMouseUp({button:2}),de.id=null,de.shoot=!1,de.rope=!1):pe.id==e.changedTouches[0].identifier&&(pe.id=null,se.touch={x:0,y:0})}function Fe(e){"shoot-button"!=e.target.id&&"jump-button"!=e.target.id&&"rope-button"!=e.target.id&&ze(!1);var t=e.movementX||e.mozMovementX||e.webkitMovementX||0,n=e.movementY||e.mozMovementY||e.webkitMovementY||0;E.moveCamera(t,n)}function Be(){document.addEventListener("mousemove",Fe),document.addEventListener("keydown",ye),document.addEventListener("keyup",ve),document.addEventListener("mousedown",xe),document.addEventListener("mouseup",ke),document.addEventListener("pointerlockchange",Se),document.addEventListener("touchstart",je),document.addEventListener("touchmove",je),document.addEventListener("touchend",Pe),document.body.appendChild(re.domElement),we.concat(re.domElement).forEach(e=>new a.a.Manager(e,{recognizers:[[a.a.Pinch,{enable:!0}]]})),window.innerWidth<window.innerHeight&&document.body.requestPointerLock&&document.body.requestPointerLock()&&screen.orientation.type&&screen.orientation.type.includes("portrait")&&(document.body.requestFullscreen?document.body.requestFullscreen():document.body.mozRequestFullScreen?document.body.mozRequestFullScreen():document.body.webkitRequestFullscreen?document.body.webkitRequestFullscreen():document.body.msRequestFullscreen&&document.body.msRequestFullscreen(),document.body.classList.add("rotated"),he=!0),fe(),Ae()}se.jump=0,document.getElementById("respawn").onclick=function(){ae.respawn(),Ae()}},,function(e,t,n){e.exports=n.p+"models/battle_planet.glb"},function(e,t,n){var o={"./Characters_Black.png":14,"./Characters_Brown.png":15,"./Characters_White.png":16,"./battle_planet.glb":4,"./benji.bin":17,"./benji.gltf":18,"./benji_black.gltf":19,"./benji_brown.gltf":20,"./benji_white.gltf":21,"./env.glb":22};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=a,e.exports=i,i.id=5},,,function(e,t,n){e.exports=n.p+"skybox/yellowcloud_ft.jpg"},function(e,t,n){e.exports=n.p+"skybox/yellowcloud_bk.jpg"},function(e,t,n){e.exports=n.p+"skybox/yellowcloud_up.jpg"},function(e,t,n){e.exports=n.p+"skybox/yellowcloud_dn.jpg"},function(e,t,n){e.exports=n.p+"skybox/yellowcloud_rt.jpg"},function(e,t,n){e.exports=n.p+"skybox/yellowcloud_lf.jpg"},function(e,t,n){e.exports=n.p+"models/Characters_Black.png"},function(e,t,n){e.exports=n.p+"models/Characters_Brown.png"},function(e,t,n){e.exports=n.p+"models/Characters_White.png"},function(e,t,n){e.exports=n.p+"models/benji.bin"},function(e,t,n){e.exports=n.p+"models/benji.gltf"},function(e,t,n){e.exports=n.p+"models/benji_black.gltf"},function(e,t,n){e.exports=n.p+"models/benji_brown.gltf"},function(e,t,n){e.exports=n.p+"models/benji_white.gltf"},function(e,t,n){e.exports=n.p+"models/env.glb"},function(e,t,n){var o={"./bow-and-arrow.svg":24,"./crosshair.svg":25,"./dot-and-circle.svg":26,"./fullscreen.svg":27,"./rope.svg":28};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=a,e.exports=i,i.id=23},function(e,t,n){e.exports=n.p+"icons/bow-and-arrow.svg"},function(e,t,n){e.exports=n.p+"icons/crosshair.svg"},function(e,t,n){e.exports=n.p+"icons/dot-and-circle.svg"},function(e,t,n){e.exports=n.p+"icons/fullscreen.svg"},function(e,t,n){e.exports=n.p+"icons/rope.svg"}]]);